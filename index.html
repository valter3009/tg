<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–æ–∏—Å–∫–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }
        body {
            background-color: #121212;
            padding: 10px;
            color: #e0e0e0;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }
        .search-container {
            display: flex;
            align-items: center;
            background-color: #2a2a2a;
            border-radius: 8px;
            padding: 8px 12px;
            margin-bottom: 10px;
        }
        .search-input {
            flex: 1;
            border: none;
            background: transparent;
            font-size: 15px;
            color: #e0e0e0;
        }
        .search-input:focus {
            outline: none;
        }
        .search-params {
            color: #999;
            display: flex;
            font-size: 18px;
            cursor: pointer;
        }
        
        .content-area {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: #999;
        }

        .page {
            display: none;
            width: 100%;
            height: 100%;
            flex-direction: column;
        }
        
        .page.active {
            display: flex;
        }
        
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 60px;
            background-color: #1e1e1e;
            display: flex;
            justify-content: space-around;
            align-items: center;
            border-top: 1px solid #333;
        }
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #999;
            font-size: 12px;
            cursor: pointer;
            padding: 8px 16px;
        }
        .nav-item.active {
            color: #ffc107; /* Yellow highlight */
        }
        .nav-icon {
            font-size: 22px;
            margin-bottom: 3px;
            position: relative;
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #0a0a0a;
            z-index: 100;
            animation: slide-in 0.3s forwards;
            flex-direction: column;
        }
        
        @keyframes slide-in {
            from {
                transform: translateX(100%);
            }
            to {
                transform: translateX(0);
            }
        }
        
        .modal-header {
            display: flex;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.15);
            position: relative;
        }
        
        .back-button {
            position: absolute;
            left: 15px;
            font-size: 20px;
            cursor: pointer;
            color: #e0e0e0;
            background: none;
            border: none;
            display: flex;
            align-items: center;
        }
        
        .modal-title {
            flex: 1;
            font-size: 18px;
            font-weight: bold;
            color: #e0e0e0;
            text-align: center;
        }
        
        .filter-icon {
            margin-right: 8px;
        }
        
        .modal-content {
            flex: 1;
            overflow-y: auto;
        }
        
        .filter-section {
            padding: 15px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.08);
        }
        
        .filter-section-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #e0e0e0;
            padding: 0 15px;
        }
        
        .filter-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 15px;
            color: #e0e0e0;
        }
        
        .filter-item.disabled {
            color: #777;
        }
        
        .chevron {
            color: #777;
        }
        
        .checkbox-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 15px;
        }
        
        .checkbox {
            width: 20px;
            height: 20px;
            border: 2px solid #777;
            position: relative;
            background-color: transparent;
        }
        
        .checkbox.checked {
            background-color: #ffc107;
            border-color: #ffc107;
        }
        
        .apply-button {
            position: absolute;
            bottom: 20px;
            left: 15px;
            right: 15px;
            padding: 15px;
            border: none;
            border-radius: 4px;
            background-color: #c3d61a;
            color: #000;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
        }

        /* More page styles */
        .more-menu-item {
            display: flex;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.08);
            cursor: pointer;
        }
        
        .more-menu-icon {
            margin-right: 15px;
            font-size: 20px;
        }
        
        /* Profile modal styles */
        .profile-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 30px 15px;
        }
        
        .profile-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background-color: #333;
            margin-bottom: 20px;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 40px;
        }
        
        .profile-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .profile-name {
            font-size: 22px;
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .profile-username {
            font-size: 16px;
            color: #999;
            margin-bottom: 25px;
        }
        
        .profile-info {
            width: 100%;
            margin-top: 20px;
        }
        
        .profile-info-item {
            display: flex;
            justify-content: space-between;
            padding: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.08);
        }
        
        .profile-info-label {
            color: #999;
        }
    </style>
</head>
<body>
    <!-- Search Page (default view) -->
    <div class="page active" id="search-page">
        <div class="search-container">
            <input type="text" class="search-input" placeholder="–ü–æ–∏—Å–∫">
            <div class="search-params" id="open-filter">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="4" y1="8" x2="20" y2="8"></line>
                    <line x1="4" y1="12" x2="20" y2="12"></line>
                    <line x1="4" y1="16" x2="20" y2="16"></line>
                </svg>
            </div>
        </div>
        <div class="content-area">
            –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ–∏—Å–∫–∞
        </div>
    </div>
    
    <!-- Favorites Page -->
    <div class="page" id="favorites-page">
        <div class="content-area">
            –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
        </div>
    </div>
    
    <!-- Monitoring Page -->
    <div class="page" id="monitoring-page">
        <div class="content-area">
            –°—Ç—Ä–∞–Ω–∏—Ü–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
        </div>
    </div>
    
    <!-- Chat Page -->
    <div class="page" id="chat-page">
        <div class="content-area">
            –°—Ç—Ä–∞–Ω–∏—Ü–∞ —á–∞—Ç–∞
        </div>
    </div>
    
    <!-- More Page -->
    <div class="page" id="more-page">
        <div class="more-menu-item" id="open-profile">
            <div class="more-menu-icon">üë§</div>
            <div>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</div>
        </div>
        <div class="more-menu-item">
            <div class="more-menu-icon">‚öôÔ∏è</div>
            <div>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
        </div>
        <div class="more-menu-item">
            <div class="more-menu-icon">‚ùì</div>
            <div>–ü–æ–º–æ—â—å</div>
        </div>
        <div class="more-menu-item">
            <div class="more-menu-icon">üìÑ</div>
            <div>–£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</div>
        </div>
    </div>

    <!-- Filter Modal -->
    <div class="modal" id="filter-modal">
        <div class="modal-header">
            <button class="back-button" id="close-filter">‚Üê</button>
            <div class="modal-title">
                <span class="filter-icon">üîç</span>–§–∏–ª—å—Ç—Ä
            </div>
        </div>
        <div class="modal-content">
            <div class="filter-section">
                <div class="filter-section-title">–û—Å–Ω–æ–≤–Ω—ã–µ</div>
                <div class="filter-item" id="region-filter">
                    <div>–†–µ–≥–∏–æ–Ω</div>
                    <div class="chevron">‚Ä∫</div>
                </div>
                <div class="filter-item" id="categories-filter">
                    <div>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</div>
                    <div class="chevron">‚Ä∫</div>
                </div>
            </div>
            <div class="filter-section">
                <div class="filter-section-title">–¢–∏–ø—ã —Ç–æ—Ä–≥–æ–≤</div>
                <div class="checkbox-item">
                    <div>–ê—É–∫—Ü–∏–æ–Ω</div>
                    <div class="checkbox checked" id="auction-checkbox"></div>
                </div>
                <div class="checkbox-item">
                    <div>–ü—É–±–ª–∏—á–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ</div>
                    <div class="checkbox checked" id="public-offer-checkbox"></div>
                </div>
            </div>
        </div>
        <button class="apply-button" id="apply-filter">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
    </div>

    <!-- Profile Modal -->
    <div class="modal" id="profile-modal">
        <div class="modal-header">
            <button class="back-button" id="close-profile">‚Üê</button>
            <div class="modal-title">
                <span class="filter-icon">üë§</span>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
            </div>
        </div>
        <div class="modal-content">
            <div class="profile-content">
                <div class="profile-avatar" id="profile-avatar">
                    <!-- Telegram photo will be loaded here -->
                </div>
                <div class="profile-name" id="profile-name">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</div>
                <div class="profile-username" id="profile-username">@username</div>
                
                <div class="profile-info">
                    <div class="profile-info-item">
                        <div>–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</div>
                        <div class="profile-info-label" id="profile-phone">+7 *** *** ** **</div>
                    </div>
                    <div class="profile-info-item">
                        <div>–ü–æ–¥–ø–∏—Å–∫–∞</div>
                        <div class="profile-info-label">–ë–∞–∑–æ–≤–∞—è</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <div class="bottom-nav">
        <div class="nav-item active" data-page="search-page">
            <div class="nav-icon">üîç</div>
            <div>–ü–æ–∏—Å–∫</div>
        </div>
        <div class="nav-item" data-page="favorites-page">
            <div class="nav-icon">‚≠ê</div>
            <div>–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</div>
        </div>
        <div class="nav-item" data-page="monitoring-page">
            <div class="nav-icon">üìä</div>
            <div>–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥</div>
        </div>
        <div class="nav-item" data-page="chat-page">
            <div class="nav-icon">üí¨</div>
            <div>–ß–∞—Ç</div>
        </div>
        <div class="nav-item" data-page="more-page">
            <div class="nav-icon">‚Ä¢‚Ä¢‚Ä¢</div>
            <div>–ï—â–µ</div>
        </div>
    </div>

    <script>
        // Get all navigation items
        const navItems = document.querySelectorAll('.nav-item');
        
        // Add click event to each navigation item
        navItems.forEach(item => {
            item.addEventListener('click', function() {
                // Get the target page id
                const pageId = this.getAttribute('data-page');
                
                // Hide all pages
                document.querySelectorAll('.page').forEach(page => {
                    page.classList.remove('active');
                });
                
                // Show the selected page
                document.getElementById(pageId).classList.add('active');
                
                // Deactivate all nav items
                navItems.forEach(navItem => {
                    navItem.classList.remove('active');
                });
                
                // Activate the clicked nav item
                this.classList.add('active');
            });
        });
        
        // Filter modal functionality
        const openFilter = document.getElementById('open-filter');
        const closeFilter = document.getElementById('close-filter');
        const filterModal = document.getElementById('filter-modal');
        const applyFilter = document.getElementById('apply-filter');
        
        // Checkboxes
        const auctionCheckbox = document.getElementById('auction-checkbox');
        const publicOfferCheckbox = document.getElementById('public-offer-checkbox');
        
        // Open filter modal
        openFilter.addEventListener('click', function() {
            filterModal.style.display = 'flex';
        });
        
        // Close filter modal
        closeFilter.addEventListener('click', function() {
            filterModal.style.display = 'none';
        });
        
        // Apply filter
        applyFilter.addEventListener('click', function() {
            filterModal.style.display = 'none';
        });
        
        // Toggle checkboxes
        auctionCheckbox.addEventListener('click', function() {
            this.classList.toggle('checked');
        });
        
        publicOfferCheckbox.addEventListener('click', function() {
            this.classList.toggle('checked');
        });
        
        // Handle filter item clicks
        document.getElementById('region-filter').addEventListener('click', function() {
            // Add region filter functionality here
            console.log('–†–µ–≥–∏–æ–Ω clicked');
        });
        
        document.getElementById('categories-filter').addEventListener('click', function() {
            // Add categories filter functionality here
            console.log('–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ clicked');
        });
        
        // Profile modal functionality
        const openProfile = document.getElementById('open-profile');
        const closeProfile = document.getElementById('close-profile');
        const profileModal = document.getElementById('profile-modal');
        
        // Open profile modal
        openProfile.addEventListener('click', function() {
            profileModal.style.display = 'flex';
            loadTelegramUserData();
        });
        
        // Close profile modal
        closeProfile.addEventListener('click', function() {
            profileModal.style.display = 'none';
        });
        
        // Load Telegram user data
        function loadTelegramUserData() {
            // Check if Telegram WebApp is available
            if (window.Telegram && window.Telegram.WebApp) {
                const user = window.Telegram.WebApp.initDataUnsafe.user;
                
                if (user) {
                    // Update profile data
                    document.getElementById('profile-name').textContent = user.first_name + (user.last_name ? ' ' + user.last_name : '');
                    document.getElementById('profile-username').textContent = user.username ? '@' + user.username : '';
                    
                    // Update profile avatar
                    const avatarElement = document.getElementById('profile-avatar');
                    
                    if (user.photo_url) {
                        avatarElement.innerHTML = `<img src="${user.photo_url}" alt="Profile Photo">`;
                    } else {
                        // If no photo available, use initials
                        const initials = user.first_name.charAt(0) + (user.last_name ? user.last_name.charAt(0) : '');
                        avatarElement.innerHTML = initials;
                    }
                }
            } else {
                // Fallback for testing outside Telegram
                console.log('Telegram WebApp not available. Using placeholder data.');
                document.getElementById('profile-name').textContent = '–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤';
                document.getElementById('profile-username').textContent = '@ivanov';
                document.getElementById('profile-avatar').innerHTML = '–ò–ò';
            }
        }
        
        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            // Check if the app is running inside Telegram WebApp
            if (window.Telegram && window.Telegram.WebApp) {
                // Tell Telegram WebApp that we are ready
                window.Telegram.WebApp.ready();
                
                // Set the expanded state to improve user experience
                window.Telegram.WebApp.expand();
            }
        });
    </script>
</body>
</html>
